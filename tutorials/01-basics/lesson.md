# 第1章: 基本操作 🎯

Neovimの最も基本的な操作を学びます。この章をマスターすれば、Neovimを使う準備が整います。

**所要時間**: 30分〜1時間

---

## 📚 学習内容

1. モードの理解と切り替え
2. 基本的な移動
3. ファイルの開き方・保存・終了
4. 簡単な編集操作

---

## 🎮 モードの理解

Neovimには主に3つのモードがあります。**これが最も重要な概念です！**

### Normalモード（通常モード）
- **デフォルトのモード**
- コマンドを実行する
- テキストは入力できない
- 画面左下に何も表示されない

### Insertモード（挿入モード）
- **テキストを入力するモード**
- 普通のエディタのように文字が打てる
- 画面左下に `-- INSERT --` と表示される

### Visualモード（ビジュアルモード）
- **テキストを選択するモード**
- 範囲選択してコピー・削除などを行う
- 画面左下に `-- VISUAL --` と表示される

---

## 🔄 モードの切り替え（超重要！）

```
Normal → Insert:  i, a, o などを押す
Insert → Normal:  ESC を押す
Normal → Visual:  v, V, Ctrl-v を押す
Visual → Normal:  ESC を押す
```

### 覚えること
- **迷ったらESC** - 何回押してもOK、常にNormalモードに戻る
- Normalモードが基本、Insertモードは「テキスト入力する時だけ」

---

## 🚶 基本的な移動（Normalモード）

### 方向キー
```
h - 左
j - 下
k - 上
l - 右
```

**なぜhjkl?**
- ホームポジションから手を動かさない
- 矢印キーより速い
- 最初は慣れないが、1週間で自然になります

### 単語単位の移動
```
w - 次の単語の先頭へ (word)
b - 前の単語の先頭へ (back)
e - 次の単語の末尾へ (end)
```

### 行内の移動
```
0  - 行頭へ
$  - 行末へ
^  - 行頭の最初の非空白文字へ
```

### ファイル内の移動
```
gg - ファイルの先頭へ
G  - ファイルの末尾へ
10G または :10 - 10行目へ
```

---

## 📂 ファイル操作

### ファイルを開く

#### 方法1: コマンドライン
```vim
:e ファイル名
:e ~/.config/nvim/init.lua
```

#### 方法2: Telescope（推奨）
```
<Space>ff  （ファイル名で検索）
```

### 保存
```vim
:w           保存
:w ファイル名  名前をつけて保存
```

または
```
<Space>w    保存（カスタムキー）
```

### 終了
```vim
:q     終了
:q!    保存せずに終了（強制）
:wq    保存して終了
ZZ     保存して終了（同じ）
```

または
```
<Space>q    終了（カスタムキー）
```

---

## ✏️ 簡単な編集

### Insertモードに入る方法

```
i  - カーソル位置から入力
a  - カーソルの次の位置から入力
o  - 下に新しい行を作って入力
O  - 上に新しい行を作って入力
I  - 行頭から入力
A  - 行末から入力
```

**よく使うのは i と o**

### 削除（Normalモード）
```
x   - カーソル位置の1文字を削除
dd  - 行全体を削除
dw  - 単語を削除
D   - カーソル位置から行末まで削除
```

### アンドゥ・リドゥ
```
u      - アンドゥ（取り消し）
Ctrl-r - リドゥ（やり直し）
```

---

## 🎯 実践練習

`practice.txt` を開いて練習しましょう:

```vim
:e ~/.config/nvim/tutorials/01-basics/practice.txt
```

### 練習問題1: 移動の練習

1. `gg` でファイル先頭へ
2. `j` を5回押して下へ
3. `G` でファイル末尾へ
4. `10G` で10行目へ
5. `w` で次の単語へ、`b` で前の単語へ

### 練習問題2: 編集の練習

1. `i` でInsertモードに入る
2. 「Hello, Neovim!」と入力
3. `ESC` でNormalモードに戻る
4. `o` で下に新しい行
5. 「これは練習です」と入力
6. `ESC` で戻る

### 練習問題3: 削除の練習

1. `dd` で1行削除
2. `u` でアンドゥ
3. `x` で1文字削除
4. `u` でアンドゥ

### 練習問題4: 保存と終了

1. `:w` で保存
2. `:q` で終了

---

## 💡 重要なポイント

### 1. Normalモードが基本
- Insertモードは「入力する時だけ」
- 移動や削除はNormalモードで

### 2. ESCは友達
- 迷ったらESC
- Normalモードに戻れば安心

### 3. 焦らない
- hjklは最初難しい → 1週間で慣れる
- わからなくなったら `:help` で調べる

### 4. 練習あるのみ
- 毎日少しずつ使う
- 1つずつ覚える

---

## 🎓 チートシート

```
=== モード切り替え ===
i, a, o    → Insert
ESC        → Normal
v, V       → Visual

=== 移動 ===
h j k l    方向
w b        単語
0 $        行頭・行末
gg G       ファイル先頭・末尾

=== 編集 ===
i          入力開始
o          下に新しい行
dd         行削除
u          アンドゥ

=== ファイル ===
:e file    開く
:w         保存
:q         終了
:wq        保存して終了
```

---

## ✅ 達成目標

この章を終えたら、以下ができるようになっているはずです:

- [ ] NormalモードとInsertモードを自由に切り替えられる
- [ ] hjklで移動できる
- [ ] ファイルを開いて保存できる
- [ ] 簡単な編集（入力・削除）ができる
- [ ] アンドゥができる

すべてできたら、**[第2章: ナビゲーション](../02-navigation/)** に進みましょう！ 🚀

---

## 📝 練習のヒント

- 最初は矢印キーを使ってもOK、徐々にhjklに移行
- 毎日5分でも触る
- 普段のテキスト編集をNeovimでやってみる
- わからなくなったらこのページに戻ってくる
